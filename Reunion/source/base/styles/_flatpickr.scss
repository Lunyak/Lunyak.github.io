@import "~flatpickr/dist/flatpickr.css";

.flatpickr-calendar {
  height: 0;
  left: 0;
  position: absolute;
  z-index: 50;
  top: 90%;
  border-radius: 4px;
  width: rem(335);
  overflow: hidden;
  opacity: 0;
  transition: opacity $ease;

  @include min-media('t') {
    width: rem(360);
    padding-left: rem(22);
    padding-right: rem(22);
    padding-bottom: rem(15);
  }

  &.inline {
    position: absolute;
    top: rem(45);
    z-index: 50;
    overflow: hidden;
    opacity: 0;

    @include min-media('t') {
      left: rem(-113);
    }
  }

  .flatpickr-prev-month,
  .flatpickr-next-month {
    color: $white;
    fill: $green;
    position: relative;

    svg {
      fill: $green;
    }

    &:hover {
      svg {
        fill: $green-darken;
        transform: fill $ease;
      }
    }
  }

  .dayContainer {
    width: 100%;
    min-width: auto;

    .today {
      background-color: none;
      border-color: $green;
      color: none;
    }

    .prevMonthDay.inRange {
      background-color: rgba($green, 0.25);
      border-color: transparent;
      box-shadow: 0 0 0 rgba($green, 0.25), 0 0 0 rgba($green, 0.25);
    }

    .nextMonthDay.inRange {
      background-color: rgba($green, 0.25);
      border-color: transparent;
      box-shadow: 0 0 0 rgba($green, 0.25), 0 0 0 rgba($green, 0.25);
    }
  }

  .flatpickr-days {
    width: 100%;
  }

  .flatpickr-rContainer {
    margin: 0 auto;
    padding: rem(15) rem(18);
  }

  .endRange {
    &::after {
      content: "";
      width: 100%;
      height: 100%;
      position: absolute;
      top: 0;
      left: 0;
      z-index: -1;
      display: block;
      background-color: $green;
      box-shadow: none;
      border-radius: rem(50);
    }
  }

  .flatpickr-day.selected,
  .flatpickr-day.startRange,
  .flatpickr-day.endRange,
  .flatpickr-day.selected.inRange,
  .flatpickr-day.startRange.inRange,
  .flatpickr-day.endRange.inRange,
  .flatpickr-day.selected:focus,
  .flatpickr-day.startRange:focus,
  .flatpickr-day.endRange:focus,
  .flatpickr-day.selected:hover,
  .flatpickr-day.startRange:hover,
  .flatpickr-day.endRange:hover {
    background-color: $green;
    border-color: $green;
  }

  .selected.startRange,
  .startRange,
  .startRange:hover,
  .endRange,
  .endRange:hover {
    border-radius: rem(50);
    background-color: $green;
    color: $white;
    border-color: transparent;
    box-shadow: none;
  }

  .inRange,
  .flatpickr-day.inRange,
  .flatpickr-day.inRange:focus {
    background-color: rgba($green, 0.25);
    border-color: transparent;
    box-shadow: 0 0 0 rgba($green, 0.25), 0 0 0 rgba($green, 0.25);
    z-index: 0;
  }

  .flatpickr-day.startRange.startRange + .inRange {
    box-shadow: rem(-20) 0 0 rgba($green, 0.25), 0 0 0 rgba($green, 0.25);
    border-color: transparent;
  }

  .flatpickr-day.endRange.endRange,
  .flatpickr-day.startRange.startRange {
    border-radius: 50px;
    z-index: 1;
  }

  .inRange + .flatpickr-day.endRange.endRange {
    background-color: rgba($green, 0.25);
    border-radius: 0 rem(50) rem(50) 0;
    border-color: transparent;
    box-shadow: 0 0 0 $green, 0 0 0 $green;
  }

  .flatpickr-day.selected.startRange + .endRange:not(:nth-child(7n + 1)),
  .flatpickr-day.startRange.startRange + .endRange:not(:nth-child(7n + 1)),
  .flatpickr-day.endRange.startRange + .endRange:not(:nth-child(7n + 1)) {
    box-shadow: none;
  }

  .flatpickr-weekday {
    color: $green;
    font-family: "Montserrat";
    width: rem(26);
    height: rem(20);
    font-size: rem(14);
    line-height: rem(17);
    display: flex;
    align-items: center;
    justify-content: center;
    margin: rem(4.5);
  }

  .nextMonthDay,
  .flatpickr-disabled,
  .flatpickr-description {
    color: $gray-dark;
  }

  .flatpickr-description {
    padding: rem(16) rem(26);
  }

  .flatpickr-day {
    line-height: rem(17);
    max-width: rem(45);
    height: rem(42);
    display: flex;
    align-items: center;
    justify-content: center;
    width: calc(100% / 7);
    transition: background 0.3s ease, border 0.3s ease, color 0.3s ease;

    @include min-media('t') {
      max-width: rem(40);
      height: rem(40);
    }

    &:hover:not(.flatpickr-disabled) {
      background-color: $green;
      border-color: $green;
      color: $white;
    }

    &.flatpickr-disabled:hover {
      color: $gray-dark;
    }
  }

  .flatpickr-months {
    padding-top: rem(18);
    padding-left: rem(15);
    padding-right: rem(15);
    height: rem(88);
    align-items: center;
  }

  .flatpickr-month {
    background-color: $white;
    color: $primary;
    font-family: "Montserrat";
    font-weight: 600;
    font-size: rem(16);
    line-height: rem(16);

    .cur-month {
      font-weight: 600;
      font-size: rem(16);
      line-height: rem(16);

      &:hover {
        background-color: transparent;
      }
    }

    .numInputWrapper {
      width: rem(50);

      &:hover {
        background-color: transparent;
      }
    }

    .cur-year {
      font-weight: 600;
      font-size: rem(16);
      line-height: rem(16);
    }
  }

  .arrowUp,
  .arrowDown {
    display: none;
  }

  .flatpickr-monthDropdown-months {
    -webkit-appearance: initial;
    appearance: initial;
  }

  .event {
    &::after {
      content: '';
      position: absolute;
      width: 6px;
      height: 6px;
      border-radius: rem(150);
      bottom: -5px;
      left: 50%;
      transform: translateX(-50%);
      display: block;
      background: $gray-dark;
    }
  }
}
